{"version":3,"sources":["webpack:///./src/pages/index.js"],"names":["pageQuery","Component","data","className","pages","allSitePage","posts","allMarkdownRemark","forEach","path","id","context","index","findIndex","post","map","frontmatter","formattedDate","no","title","date","skipEtc","headings","key","to","slice","value","dangerouslySetInnerHTML","__html","StyledComponent"],"mappings":"4MAKaA,EAAS,YA+BhBC,EAAY,SAAC,GAAyB,IAAvBC,EAAsB,EAAtBA,KAAMC,EAAgB,EAAhBA,UACjBC,EAAUF,EAAKG,YAAfD,MACAE,EAAUJ,EAAKK,kBAAfD,MAOR,OALAF,EAAMI,SAAQ,YAAgC,IAA7BC,EAA4B,EAA5BA,KAAiBC,EAAW,EAAtBC,QAAWD,GAC1BE,EAAQN,EAAMO,WAAU,SAAAC,GAAI,OAAIA,EAAKJ,KAAOA,KAClDJ,EAAMM,GAAOH,KAAOA,KAIpB,YAAC,IAAD,KACE,iDACA,mBAAKN,UAAWA,GACd,kBAAIA,UAAU,SACXG,EAAMS,KACL,gBACEN,EADF,EACEA,KADF,IAEEO,YAAeC,EAFjB,EAEiBA,cAAsBC,GAFvC,EAEgCC,MAFhC,EAEuCD,IAAIE,EAF3C,EAE2CA,KAAMC,EAFjD,EAEiDA,QAC/CC,EAHF,EAGEA,SAHF,OAKE,kBAAIC,IAAKH,EAAMjB,UAAU,QACvB,YAAC,IAAD,CAAMqB,GAAIf,GACR,0BACIS,EADJ,MACWD,GAEX,kBAAId,UAAU,YACXmB,EAASG,MAAM,EAAG,GAAGV,KAAI,gBAAGW,EAAH,EAAGA,MAAH,OACxB,kBACEH,IAAKG,EACLC,wBAAyB,CAAEC,OAAQF,SAGrCL,GAAW,qCAY3BQ,EAAkB,YAAO5B,EAAP,sBAAH,sOA0BN4B","file":"component---src-pages-index-js-b5ba2bc09927bb2a80c5.js","sourcesContent":["import React from \"react\"\nimport { graphql, Link } from \"gatsby\"\nimport styled from \"@emotion/styled\"\nimport { Layout } from \"../Layout\"\n\nexport const pageQuery = graphql`\n  {\n    allSitePage(filter: { path: { regex: \"/posts/\" } }) {\n      pages: nodes {\n        path\n        context {\n          id\n        }\n      }\n    }\n    allMarkdownRemark(\n      sort: { fields: frontmatter___date, order: DESC }\n      filter: { fileAbsolutePath: { regex: \"/posts/\" } }\n    ) {\n      posts: nodes {\n        id\n        frontmatter {\n          title\n          no\n          date\n          formattedDate: date(formatString: \"YYYY/MM/DD\")\n          skipEtc\n        }\n        headings(depth: h3) {\n          value\n        }\n      }\n    }\n  }\n`\n\nconst Component = ({ data, className }) => {\n  const { pages } = data.allSitePage\n  const { posts } = data.allMarkdownRemark\n\n  pages.forEach(({ path, context: { id } }) => {\n    const index = posts.findIndex(post => post.id === id)\n    posts[index].path = path\n  })\n\n  return (\n    <Layout>\n      <h1>Cybozu Frontend Monthly</h1>\n      <div className={className}>\n        <ul className=\"posts\">\n          {posts.map(\n            ({\n              path,\n              frontmatter: { formattedDate, title, no, date, skipEtc },\n              headings,\n            }) => (\n              <li key={date} className=\"post\">\n                <Link to={path}>\n                  <h2>\n                    #{no} - {formattedDate}\n                  </h2>\n                  <ul className=\"headings\">\n                    {headings.slice(0, 8).map(({ value }) => (\n                      <li\n                        key={value}\n                        dangerouslySetInnerHTML={{ __html: value }}\n                      />\n                    ))}\n                    {!skipEtc && <li>ä»–</li>}\n                  </ul>\n                </Link>\n              </li>\n            )\n          )}\n        </ul>\n      </div>\n    </Layout>\n  )\n}\n\nconst StyledComponent = styled(Component)`\n  .posts {\n    list-style: none;\n    margin: 0;\n    padding: 0;\n  }\n  .post {\n    a {\n      display: block;\n      padding-bottom: 24px;\n      &:hover {\n        text-decoration: none;\n      }\n    }\n    h2 {\n      border: none;\n    }\n  }\n  .post + .post {\n    border-top: 1px solid #eaecef;\n  }\n  .headings {\n    color: #24292e;\n  }\n`\n\nexport default StyledComponent\n"],"sourceRoot":""}