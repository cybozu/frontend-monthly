<!DOCTYPE html><html lang="ja"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><meta name="description" content="サイボウズのフロントエンドエンジニアが月イチでお届けするフロントエンド情報"><meta name="twitter:card" content="summary"><meta name="twitter:creator" content="Cybozu Frontend Expert Team"><meta name="twitter:title" content="Cybozu Frontend Monthly #13"><meta name="twitter:description" content="サイボウズのフロントエンドエンジニアが月イチでお届けするフロントエンド情報"><meta property="og:title" content="Cybozu Frontend Monthly #13"><meta property="og:description" content="サイボウズのフロントエンドエンジニアが月イチでお届けするフロントエンド情報"><meta property="og:type" content="website"><meta property="og:image" content="https://cybozu.github.io/frontend-monthly/img/header.png"><link rel="icon" type="image/png" sizes="32x32" href="/frontend-monthly/icons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/frontend-monthly/icons/favicon-16x16.png"><meta name="generator" content="Astro v5.5.6"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.21.0/themes/prism.min.css"><title>Cybozu Frontend Monthly #13</title><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><script type="module" src="/frontend-monthly/_astro/ClientRouter.astro_astro_type_script_index_0_lang.CMTcOisY.js"></script><link rel="stylesheet" href="/frontend-monthly/_astro/_slug_.BKQHukwY.css">
<style>.astro-route-announcer{position:absolute;left:0;top:0;clip:rect(0 0 0 0);clip-path:inset(50%);overflow:hidden;white-space:nowrap;width:1px;height:1px}:root{--accent: 124, 58, 237;--accent-gradient: linear-gradient( 45deg, rgb(var(--accent)), #da62c4 30%, white 60% )}html{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji}body{margin:0;border-top:4px solid #64bdd4}code{font-family:Menlo,Monaco,Lucida Console,Liberation Mono,DejaVu Sans Mono,Bitstream Vera Sans Mono,Courier New,monospace}.main{box-sizing:border-box;min-width:200px;max-width:980px;width:100%;margin:0 auto;padding:15px 45px;color:#24292e}@media (max-width: 767px){.main{padding:12px;font-size:14px}.main .markdown-body{font-size:14px}.main .markdown-body h1{font-size:1.55em;margin-bottom:.25em;margin-top:.5em}.main .markdown-body h2{font-size:1.3em;margin-bottom:.25em;margin-top:.5em}.main .markdown-body h3{font-size:1.1em;margin-bottom:.25em;margin-top:.5em}.main .markdown-body img{max-width:100%;height:auto}.main hr{margin:12px 0}}.footer{background-color:#31424e;text-align:center;color:#f8f8ff;font-size:.75em;padding:5px 0;line-height:1.5}.footer a{color:inherit;text-decoration:none}.markdown-body li>*:first-child{padding-top:8px;padding-bottom:8px}.markdown-body li>ul{margin-top:8px}.markdown-body li+li{margin:8px 0}@keyframes astroFadeInOut{0%{opacity:1}to{opacity:0}}@keyframes astroFadeIn{0%{opacity:0;mix-blend-mode:plus-lighter}to{opacity:1;mix-blend-mode:plus-lighter}}@keyframes astroFadeOut{0%{opacity:1;mix-blend-mode:plus-lighter}to{opacity:0;mix-blend-mode:plus-lighter}}@keyframes astroSlideFromRight{0%{transform:translate(100%)}}@keyframes astroSlideFromLeft{0%{transform:translate(-100%)}}@keyframes astroSlideToRight{to{transform:translate(100%)}}@keyframes astroSlideToLeft{to{transform:translate(-100%)}}@media (prefers-reduced-motion){::view-transition-group(*),::view-transition-old(*),::view-transition-new(*){animation:none!important}[data-astro-transition-scope]{animation:none!important}}
</style><style>[data-astro-transition-scope="astro-6ynojplz-1"] { view-transition-name: astro-6ynojplz-1; }@layer astro { ::view-transition-old(astro-6ynojplz-1) { 
	animation-duration: 90ms, 220ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1), cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both, both;
	animation-name: astroFadeOut, astroSlideToLeft; }::view-transition-new(astro-6ynojplz-1) { 
	animation-duration: 210ms, 220ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1), cubic-bezier(0.76, 0, 0.24, 1);
	animation-delay: 30ms;
	animation-fill-mode: both, both;
	animation-name: astroFadeIn, astroSlideFromRight; }[data-astro-transition=back]::view-transition-old(astro-6ynojplz-1) { 
	animation-name: astroFadeOut, astroSlideToRight; }[data-astro-transition=back]::view-transition-new(astro-6ynojplz-1) { 
	animation-name: astroFadeIn, astroSlideFromLeft; } }[data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-6ynojplz-1"],
			[data-astro-transition-fallback="old"][data-astro-transition-scope="astro-6ynojplz-1"] { 
	animation-duration: 90ms, 220ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1), cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both, both;
	animation-name: astroFadeOut, astroSlideToLeft; }[data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-6ynojplz-1"],
			[data-astro-transition-fallback="new"][data-astro-transition-scope="astro-6ynojplz-1"] { 
	animation-duration: 210ms, 220ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1), cubic-bezier(0.76, 0, 0.24, 1);
	animation-delay: 30ms;
	animation-fill-mode: both, both;
	animation-name: astroFadeIn, astroSlideFromRight; }[data-astro-transition=back][data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-6ynojplz-1"],
			[data-astro-transition=back][data-astro-transition-fallback="old"][data-astro-transition-scope="astro-6ynojplz-1"] { 
	animation-name: astroFadeOut, astroSlideToRight; }[data-astro-transition=back][data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-6ynojplz-1"],
			[data-astro-transition=back][data-astro-transition-fallback="new"][data-astro-transition-scope="astro-6ynojplz-1"] { 
	animation-name: astroFadeIn, astroSlideFromLeft; }</style></head> <body> <main class="main" data-astro-transition-scope="astro-6ynojplz-1">  <h1 class="post-title" data-astro-cid-gjtny2mx>Cybozu Frontend Monthly #13</h1> <div class="markdown-body" data-astro-cid-gjtny2mx>  <img src="/frontend-monthly/_astro/header.Do3-qW-Q_Z21vF.webp" alt="タイトル画像" data-astro-cid-grpv5qb7="true" width="660" height="346" loading="lazy" decoding="async"> <h2 data-astro-cid-grpv5qb7>イベント概要</h2> <p data-astro-cid-grpv5qb7> <strong data-astro-cid-grpv5qb7>サイボウズフロントエンドマンスリー</strong>
は、サイボウズ社内で行っているフロントエンド情報共有会「フロントエンドウィークリー」の公開版です。
</p> <p data-astro-cid-grpv5qb7>
その月に気になったフロントエンドの情報を、サイボウズのフロントエンドエンジニアのメンバーが共有していきます。
</p> <p data-astro-cid-grpv5qb7> <strong data-astro-cid-grpv5qb7>
このイベントのハッシュタグは  <a href="https://twitter.com/search?q=%23%E3%82%B5%E3%82%A4%E3%83%9C%E3%82%A6%E3%82%BA%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E3%82%A8%E3%83%B3%E3%83%89%E3%83%9E%E3%83%B3%E3%82%B9%E3%83%AA%E3%83%BC" target="_blank" rel="noopener noreferrer" data-astro-cid-grpv5qb7>
#サイボウズフロントエンドマンスリー
</a> 
です。
</strong> </p> <div class="note" data-astro-cid-grpv5qb7> <h3 data-astro-cid-grpv5qb7>※フロントエンドウィークリーとは</h3> <p data-astro-cid-grpv5qb7>
毎週火曜の 17:00 〜 18:00
    で社内向けに行っているフロントエンドの気になる記事を紹介する会です。<br data-astro-cid-grpv5qb7>
2016年3月15日から行われています。<br data-astro-cid-grpv5qb7> </p> <p data-astro-cid-grpv5qb7>
ZennのPublicationにてウィークリーのまとめを投稿していますので、ぜひこちらもご覧ください。
<a href="https://zenn.dev/p/cybozu_frontend" target="_blank" rel="noopener noreferrer" data-astro-cid-grpv5qb7>
https://zenn.dev/p/cybozu_frontend
</a> </p> </div> <h3 data-astro-cid-grpv5qb7>開催日</h3> <p data-astro-cid-grpv5qb7>2021年07月27日</p> <h3 data-astro-cid-grpv5qb7>イベントページ</h3> <p data-astro-cid-grpv5qb7> <a href="https://cybozu.connpass.com/event/218880/" target="_blank" rel="noopener noreferrer" data-astro-cid-grpv5qb7> https://cybozu.connpass.com/event/218880/ </a> </p>  <h3 data-astro-cid-grpv5qb7>配信URL</h3> <p data-astro-cid-rqusjlqv> <iframe title="https://www.youtube.com/embed/SAEzDJE2Uqw" width="560" height="315" src="https://www.youtube.com/embed/SAEzDJE2Uqw" style="border: 0;" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen class="embed" data-astro-cid-rqusjlqv></iframe> <a href="https://www.youtube.com/watch?v=SAEzDJE2Uqw" target="_blank" rel="noreferrer noopner" data-astro-cid-rqusjlqv> https://www.youtube.com/watch?v=SAEzDJE2Uqw </a> </p>    <h2 data-astro-cid-5i3bjwe7>メンバー</h2> <div class="members" data-astro-cid-5i3bjwe7> <div class="member" data-astro-cid-5i3bjwe7> <img src="/frontend-monthly/img/@koba04.jpg" class="thumbnail" alt="@koba04" width="100" height="100" data-astro-cid-5i3bjwe7> <a href="https://twitter.com/koba04" target="_blank" rel="noopener noreferrer" data-astro-cid-5i3bjwe7> @koba04 </a> </div><div class="member" data-astro-cid-5i3bjwe7> <img src="/frontend-monthly/img/@pirosikick.jpg" class="thumbnail" alt="@pirosikick" width="100" height="100" data-astro-cid-5i3bjwe7> <a href="https://twitter.com/pirosikick" target="_blank" rel="noopener noreferrer" data-astro-cid-5i3bjwe7> @pirosikick </a> </div><div class="member" data-astro-cid-5i3bjwe7> <img src="/frontend-monthly/img/@__sakito__.jpg" class="thumbnail" alt="@__sakito__" width="100" height="100" data-astro-cid-5i3bjwe7> <a href="https://twitter.com/__sakito__" target="_blank" rel="noopener noreferrer" data-astro-cid-5i3bjwe7> @__sakito__ </a> </div><div class="member" data-astro-cid-5i3bjwe7> <img src="/frontend-monthly/img/@shisama_.jpg" class="thumbnail" alt="@shisama_" width="100" height="100" data-astro-cid-5i3bjwe7> <a href="https://twitter.com/shisama_" target="_blank" rel="noopener noreferrer" data-astro-cid-5i3bjwe7> @shisama_ </a> </div><div class="member" data-astro-cid-5i3bjwe7> <img src="/frontend-monthly/img/@nakajmg.jpg" class="thumbnail" alt="@nakajmg" width="100" height="100" data-astro-cid-5i3bjwe7> <a href="https://twitter.com/nakajmg" target="_blank" rel="noopener noreferrer" data-astro-cid-5i3bjwe7> @nakajmg </a> </div><div class="member" data-astro-cid-5i3bjwe7> <img src="/frontend-monthly/img/@b4h0_c4t.jpg" class="thumbnail" alt="@b4h0_c4t" width="100" height="100" data-astro-cid-5i3bjwe7> <a href="https://twitter.com/b4h0_c4t" target="_blank" rel="noopener noreferrer" data-astro-cid-5i3bjwe7> @b4h0_c4t </a> </div><div class="member" data-astro-cid-5i3bjwe7> <img src="/frontend-monthly/img/@mugi_uno.jpg" class="thumbnail" alt="@mugi_uno" width="100" height="100" data-astro-cid-5i3bjwe7> <a href="https://twitter.com/mugi_uno" target="_blank" rel="noopener noreferrer" data-astro-cid-5i3bjwe7> @mugi_uno </a> </div> </div>  <h2 data-astro-cid-5i3bjwe7>ゲスト</h2> <div class="members" data-astro-cid-5i3bjwe7> <div class="member" data-astro-cid-5i3bjwe7> <img src="/frontend-monthly/img/@jmblog.jpg" class="thumbnail" alt="@jmblog" data-astro-cid-5i3bjwe7> <a href="https://twitter.com/jmblog" target="_blank" rel="noopener noreferrer" data-astro-cid-5i3bjwe7> @jmblog </a> </div><div class="member" data-astro-cid-5i3bjwe7> <img src="/frontend-monthly/img/@yuku.jpg" class="thumbnail" alt="@yuku" data-astro-cid-5i3bjwe7> <a href="https://twitter.com/MonchiFC" target="_blank" rel="noopener noreferrer" data-astro-cid-5i3bjwe7> @yuku </a> </div> </div>   <hr> <h2>コンテンツ</h2> <h3 id="150万mauのnuxtjs製サービスを機能開発を止めずに1ヶ月1人でnextjsに置き換えた話"><a href="https://zenn.dev/yuku/articles/a9edd53e13bb26">150万MAUのNuxt.js製サービスを機能開発を止めずに1ヶ月&#x26;1人でNext.jsに置き換えた話</a></h3>
<ul>
<li>共有者: <a href="https://github.com/MonchiFC">yuku</a></li>
</ul>
<p>Ubie の[AI受診相談ユビー]を Nuxt.js から Next.js に置き換えた話。機能開発を止めないリプレイス事例として参考になると嬉しい。</p>
<ul>
<li>Nuxt.js と Next.js を共存させて1ヶ月で完全移行</li>
<li>インフラ層で path を見て Nuxt と Next にルーティング</li>
<li>Local Storage を通したステートのマイグレーション</li>
<li>0→1の立ち上げにおいてはコミュニケーションコストが課題になる
<ul>
<li>コミュニケーションコストのかからない壁打ち相手がいるととってもハッピー</li>
</ul>
</li>
</ul>
<hr>
<h3 id="just-in-time-mode---tailwind-css"><a href="https://tailwindcss.com/docs/just-in-time-mode">Just-in-Time Mode - Tailwind CSS</a></h3>
<ul>
<li>共有者: jmblog</li>
</ul>
<p>業務で Next.js + Tailwind CSS を使っているのですが、Just-in-Time（JIT）モードが便利だったので共有します。</p>
<ul>
<li>Tailwind CSS は 本番ビルド時に PurgeCSS を利用して未使用のスタイルをすべて削除するため、生成されるCSSファイルは最小限になります。</li>
<li>ただし、PurgeCSS は毎回動かすとビルドに時間がかかりすぎるため、開発時には実行されません。</li>
<li>その結果、開発時に生成されるCSSファイルのサイズは非常に大きくなります。場合によっては、Chrome DevTools の動きが遅くなるほど巨大になることもあります。</li>
<li>また、開発と本番で異なるCSSが使われることになるので、PurgeCSS によって意図しないスタイルの削除が行われたとしても、本番でしか気づくことができませんでした。</li>
<li>Just-in-Timeモードを使うとこれらを解決することができます。</li>
<li>また、それ以外にも以下のような利点があります
<ul>
<li><code>active</code> や <code>disabled</code> などの Variants を設定ファイルで有効にしなくても使えるようになる</li>
<li><code>top-[-113px]</code>, <code>border-[#c1c1c1]</code> みたいなクラスを書くことができるようになる</li>
</ul>
</li>
<li>JITモードは、実験的な機能として <code>@tailwindcss/jit</code> というライブラリとして提供されていましたが、2021/4 にリリースされた Tailwind CSS v2.1 から Tailwind CSS のコア機能として取り込まれています。</li>
</ul>
<p>なお、Next.js v10.2.0 で JIT モードを試したところ、うまく動きませんでした。v10.2.2 以上、v11 であれば問題ないようです。</p>
<p><a href="https://zenn.dev/jimbo/scraps/693d65554843f3">Next.js v10でTailwind CSSのJust-in-Timeモードがうまく動かない</a></p>
<hr>
<h3 id="content-editableでwysiwygエディタ作るの楽しい---maru-source"><a href="https://blog.h13i32maru.jp/entry/2021/07/08/182316">Content EditableでWYSIWYGエディタ作るの楽しい！ - maru source</a></h3>
<ul>
<li>共有者: pirosikick</li>
</ul>
<p>Ubie Discoveryのカルテエディタの話。Content Editableを使ったWYSIWYGエディタの作り方について。
ProseMirror等のリッチテキストエディタ用のOSSを使わずに、一から作っていてすごい。
エディタの話だけではなく、設計の話、設計をどのようにドキュメントに残すかなども書いており、楽しく読めました。</p>
<hr>
<h3 id="astro"><a href="https://astro.build/">Astro</a></h3>
<ul>
<li>共有者: <a href="https://github.com/MonchiFC">yuku</a></li>
</ul>
<p>Snowpack チームが作った静的サイトジェネレータ。</p>
<ul>
<li>フレームワーク非依存で、React でも Vue でも Svelte でも書ける
<ul>
<li><a href="https://docs.astro.build/reference/renderer-reference">Renderer</a> を実装するとなんでも対応できる</li>
</ul>
</li>
<li><a href="https://docs.astro.build/core-concepts/astro-components">独自のコンポーネント記法</a>も持っている</li>
<li>TypeScript や Markdown など色々とデフォルト対応</li>
<li>デフォルトではランタイム JS なしの静的 HTML を出力</li>
<li>JSが必要なコンポーネントは明示することで<a href="https://docs.astro.build/core-concepts/component-hydration">部分的にハイドレーション</a>できる
<ul>
<li>ロード時にハイドレーションしたり <code>&#x3C;MyComponent client:load /></code></li>
<li>IntersectionObserver に引っかかったときにしたり <code>&#x3C;MyComponent client:visible /></code></li>
</ul>
</li>
</ul>
<hr>
<h3 id="creating-an-accessible-autocomplete-experience"><a href="https://react-spectrum.adobe.com/blog/building-a-combobox.html">Creating an accessible autocomplete experience</a></h3>
<ul>
<li>共有者: @sakito</li>
</ul>
<p>Adobeのデザインシステムである<a href="https://spectrum.adobe.com/">Spectrum</a>をReact実装した<a href="https://react-spectrum.adobe.com/react-spectrum/index.html">React Spectrum</a>から出た記事。
<a href="https://react-spectrum.adobe.com/react-spectrum/ComboBox.html">ComboBox</a>と<a href="https://react-spectrum.adobe.com/react-aria/useComboBox.html">useComboBox</a>をリリースしたので、どのようなことを考えて実装されたのか解説されている記事です。</p>
<p>記事では大まかにこのようなことが述べられています。</p>
<ul>
<li>ComboBoxの難しさ
<ul>
<li>ComboBoxは単純なUIに見えるが、タッチ、クリック、キーボード、マウスなどさまざまなイベントでの動作</li>
<li>入力フォームと入力候補を表示する2つのUIを制御するタイミングや難しさ</li>
</ul>
</li>
<li>Mobile experience
<ul>
<li>iOS Safariのキーボードの出現やページスクロールの挙動について</li>
</ul>
</li>
<li>Accessibility
<ul>
<li><a href="https://www.w3.org/TR/wai-aria-practices-1.2/#combobox">WAI-ARIA 1.2 combobox example</a>に沿って実装したが、いくつかの問題があった紹介</li>
<li>リストのUIにReact Portalを使用することで、DOMの最後にポータル化されることによる問題</li>
<li>モバイル実装時のスクリーンリーダーとの関係</li>
<li>さまざまなスクリーンリーダーの挙動差</li>
<li>VoiceOverのサポート</li>
</ul>
</li>
</ul>
<p>実装時に気をつけたいことが色々と紹介されているので、ComboBoxの実装以外でも参考になる記事でした。</p>
<hr>
<h3 id="using-webassembly-threads-from-c-c-and-rust"><a href="https://web.dev/webassembly-threads/">Using WebAssembly threads from C, C++ and Rust</a></h3>
<ul>
<li>共有者: @b4h0_c4t</li>
</ul>
<p>WebAssembly を使ってマルチスレッドアプリケーションを構築する話。</p>
<p>前半は Web Worker を用いた WebAssembly 上でのメモリ管理の歴史や WebAssembly atomics と呼ばれる単一の SharedArrayBuffer のアクセス衝突を回避する機能の解説をしています。</p>
<p>後半では、C、C++、Rust を用いたマルチスレッドアプリケーションの例とその解説をしています。
解説中では、pthread や std::thread といった各言語の標準スレッドライブラリを利用して解説を行なっている他、各セクション毎にいくつかの要点が記述されているので今後 WebAssembly を介して利用したい言語があれば読んでみることをお勧めします。</p>
<hr>
<h3 id="petite-vue"><a href="https://github.com/vuejs/petite-vue">petite-vue</a></h3>
<ul>
<li>共有者: nakajmg</li>
</ul>
<p>Vue のサブセット的なものがリリースされました。通常の Vue の機能制限版的なものですが、Vueのv1系で行ってたような使い方ができます。<code>script</code>でグローバルに <code>PetiteVue</code>　を生やす以外にも、次のように　ESM　で　import　して使うといったこともできます。</p>
<pre class="language-javascript" data-language="javascript"><code is:raw="" class="language-javascript"><span class="token operator">&#x3C;</span>script type<span class="token operator">=</span><span class="token string">"module"</span><span class="token operator">></span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'https://unpkg.com/petite-vue?module'</span>
  <span class="token function">createApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&#x3C;</span><span class="token operator">/</span>script<span class="token operator">></span>
</code></pre>
<p>petite-vue は <code>computed</code> など<a href="https://github.com/vuejs/petite-vue#not-supported">使えない機能</a>があるので、そのあたりを考慮した上で用途を考える必要がありそうです。</p>
<p>Vue の easy な使い方をカバーする役割としてこういったビルドを出してくるのは面白いアプローチだなと思いました。</p>
<hr>
<h3 id="prisma-day-2021"><a href="https://www.prisma.io/day">Prisma Day 2021</a></h3>
<ul>
<li>共有者: @mugi_uno</li>
</ul>
<p><a href="https://www.prisma.io/">Prisma</a>のオンラインカンファレンス Prisma Day 2021 が 6/29-30 で開催されました。
セッションの動画はすべて YouTube にアップされています。</p>
<p><a href="https://twitter.com/kanasugi_y">@kanasugi_y</a> さんによる日本語でのワークショップも開催され、
同様に動画がアップされているので、Prismaの入門として良さそうです。</p>
<p>最後のセッション “What’s next for Prisma?” では、今後のロードマップに関する紹介がありました。<br>
<a href="https://www.youtube.com/watch?v=vTgvePrccas">https://www.youtube.com/watch?v=vTgvePrccas</a></p>
<p>言及されていたものから幾つか抜粋します。</p>
<ul>
<li>Data Plane
<ul>
<li>大規模プロジェクトにおいて、複数DBとのコネクションや、サーバーレス利用時のコネクションプーリングといった課題を解決する</li>
<li>Prisma Data Proxy という名称でアーリーアクセスへ申し込める</li>
</ul>
</li>
<li>Control Plane
<ul>
<li>Data Plane と接続し、マイグレーション履歴の参照や、データ・スキーマの閲覧、クエリコンソールといった機能をクラウド上で提供する</li>
<li><a href="https://cloud.prisma.io/">https://cloud.prisma.io/</a> からアーリーアクセス版を利用できる</li>
</ul>
</li>
<li>Referential actions
<ul>
<li>Delete,・Updateに連動し、CascadeやNull/Default値のセットといった処理を可能にする</li>
<li>2.26.0 以降、Preview版として利用可能になっている。</li>
</ul>
</li>
<li>MongoDBコネクタのサポート
<ul>
<li><code>@unique</code> の取り扱いなどは今後のロードマップに入ってる。</li>
<li>2.27.0 以降、Preview版として利用可能になっている。</li>
</ul>
</li>
</ul>
<p>上記を含む、現在のロードマップは以下で確認できます。<br>
<a href="https://www.notion.so/Prisma-Roadmap-50766227b779464ab98899accb98295f">https://www.notion.so/Prisma-Roadmap-50766227b779464ab98899accb98295f</a></p>
<hr>
<h3 id="the-performance-effects-of-too-much-lazy-loading"><a href="https://web.dev/lcp-lazy-loading/">The performance effects of too much lazy-loading</a></h3>
<ul>
<li>共有者: @shisama_</li>
</ul>
<p>画像のlazy-loadingはパフォーマンス向上には有効な方法だが、ページ内のすべての画像をlazy-loadingすると、パフォーマンスが悪くなることもある。
WordPressで作られたページで実験したところ、ファーストビュー内の画像はlazy-loadingしないほうが良いパフォーマンス結果を得られた。</p>
<p>以下、記事本文まとめ</p>
<ul>
<li>
<p>lazy-loadingは画像の読み込みを遅延させてパフォーマンスを改善するためには良い方法だが、使いすぎると逆にパフォーマンスを悪化させることもある</p>
</li>
<li>
<p>HTTPアーカイブによると、すでにWebサイトの17%でlazy-loadが使われていて、急速に利用拡大している</p>
</li>
<li>
<p>内訳は84%がWordPress、他のCMSが2%、残り14%となっている</p>
</li>
<li>
<p>lazy-loadingを使うWordPressサイトは、1年前は1%だったのに今では14%まで増えた</p>
</li>
<li>
<p>Chrome User Experience Report から収集したレポートによると、ページを閲覧したユーザーの75パーセンタイルの中央値はlazy-loadingありよりlazy-loadingなしのほうが高速にページ表示していた</p>
<ul>
<li>lazy-loadingなし: 2,922ms</li>
<li>lazy-loadingあり: 3,546ms</li>
</ul>
</li>
<li>
<p>WordPressサイトに絞り込むと遅くなる傾向があった</p>
<ul>
<li>lazy-loadingなし: 3,495ms</li>
<li>lazy-loadingあり: 3,768ms</li>
</ul>
</li>
<li>
<p>WordPressのシングルページとアーカイブページをWebPageTestで計測したらアーカイブがlazy-loadingしているほうが遅いことが判明</p>
</li>
<li>
<p>ページ内の画像のバイト数の中央値を比較すると、遅延読み込みしているほうがサイズは小さい。</p>
</li>
<li>
<p>要するに、lazy-loadingは画像サイズの削減には役立つが、LCPの結果的には遅い</p>
</li>
<li>
<p>ファーストビューでは見えない部分の画像だけをlazy-loadingしてみると結果が改善された</p>
</li>
<li>
<p>画像のバイト数の中央値に変化はなかった</p>
</li>
<li>
<p>ただWordPressはどの画像をlazy-loadingさせるかサーバー側で判定しているのでビューポートサイズはわからない</p>
</li>
<li>
<p>画像の相対的な位置をヒューリスティックな方法で判定するようにした</p>
<ul>
<li>画像が最初の注目すべき画像である場合、またはメインコンテンツの最初の画像の場合はビューポート内（または近い場所）にあると考える</li>
<li>見出しの単語数や序盤の段落のテキスト量によっては画像がビューポートに影響するので考慮する</li>
<li>アンカーリンクを使ってスクロール位置を変更する場合も考慮する</li>
</ul>
</li>
<li>
<p>これらの方法は一般的には有効だが、すべてのケースで有効ではないため微調整が必要</p>
</li>
<li>
<p>LCPの要素がlazy-loadingされた場合はコンソールに警告を出したりして改善するのが良い</p>
</li>
<li>
<p>lazy-loadingを使っている場合は、実装方法を確認してA/Bテストを実行してパフォーマンスを確認すること</p>
</li>
<li>
<p>ファーストビューに表示される画像はlazy-loadingではなく、eager loadingすること</p>
</li>
<li>
<p>WordPressサイトの運営者はWordPress本体にパッチがリリースされることを願う</p>
</li>
<li>
<p>比較的新しいAPIはリスクとメリットが両方ある。lazy-loadingは厄介な面もあるが、パフォーマンス向上のメリットもある</p>
</li>
</ul>
<hr>
<h3 id="告知ubie-tech-talk-5"><a href="https://ubietechtalk.connpass.com/event/219222/">告知：Ubie Tech Talk #5</a></h3>
<ul>
<li>共有者: jmblog</li>
</ul>
<p>明日 7/28 18:00-19:00 に Ubie Tech Talk #5 を開催します</p>
<ul>
<li>今回は、デザイナー×エンジニアの雑談会のような感じでワイワイ話します。</li>
<li>YouTube Live で配信予定（音声のみ）です。夕方の時間なので、作業しながらのBGMにもどうぞ！</li>
</ul>
<hr>  </div>  </main> <footer class="footer"> <a href="/frontend-monthly/">Cybozu Frontend Monthly</a> </footer>  </body></html> 