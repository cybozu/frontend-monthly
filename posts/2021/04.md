---
title: Cybozu Frontend Monthly
date: "2021-04-27T17:00:00+09:00"
slug: "2021-04"
connpass: ""
streamUrl: ""
no: 10
members:
  - name: "@koba04"
    link: https://twitter.com/koba04
  - name: "@pirosikick"
    link: https://twitter.com/pirosikick
  - name: "@__sakito__"
    link: https://twitter.com/__sakito__
  - name: "@shisama_"
    link: https://twitter.com/shisama_
  - name: "@nakajmg"
    link: https://twitter.com/nakajmg
  - name: "@b4h0_c4t"
    link: https://twitter.com/b4h0_c4t
  - name: "@__sosukesuzuki"
    link: https://twitter.com/__sosukesuzuki
guest:
---

### [Solving a Mystery Behavior of parseInt() in JavaScript](https://dmitripavlutin.com/parseint-mystery-javascript/)

- 共有者: pirosikick

小ネタ。`parseInt(0.000005)`は`0`を返すのに、`parseInt(0.0000005)`は`5`を返す件について。最近、別件でparseInt関数の仕様を調べる機会があったので紹介。

[parseInt関数の仕様](https://tc39.es/ecma262/#sec-parseint-string-radix)は、かなりざ〜っくり説明すると以下のとおり。

- parseInt(string, radix)
- inputString = ToString(string)
- inputStringの先頭のスペースをtrimする
- radixが`0` or `undefined`の場合は、radix = 10とするけど、stringの先頭が"0x" or "0X"の場合はradix = 16
- radixが`16`の場合、stringは"0x" or "0Xで始まってもいい
- radix < 2 || radix > 36 → return NaN
- 先頭の`+`,`-`（プラス、マイナス）は取り除いて、
  radix進数の範囲外の文字が見つかったらその文字の前までの文字列を評価する
  - 例）radixが`2`で`"0101012"`が入力された場合、`"010101"`を評価する
- 先頭が`-`の場合は、-1を掛ける

parseInt関数の第1引数は`ToString`されるので、`0.0000005`は`"5e-7"`になる（ちなみに、`String(0.000005)`は`"0"`）。「radix進数の範囲外の文字が見つかったらその文字の前までの文字列を評価する」ので`"5"`だけ評価され、`5`を返す。

ちなみに、「radix進数の範囲外の文字が見つかったらその文字の前までの文字列を評価する」という仕様は、`"10px"`のような数字 + suffixの文字列から数字だけを取り出すときに便利。

```js
parseInt('10px'); // => 10
```

---