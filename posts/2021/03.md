---
title: Cybozu Frontend Monthly
date: "2021-03-30T17:00:00+09:00"
slug: "2021-03"
connpass: ""
streamUrl: ""
no: 9
members:
  - name: "@koba04"
    link: https://twitter.com/koba04
  - name: "@pirosikick"
    link: https://twitter.com/pirosikick
  - name: "@__sakito__"
    link: https://twitter.com/__sakito__
  - name: "@shisama_"
    link: https://twitter.com/shisama_
  - name: "@nakajmg"
    link: https://twitter.com/nakajmg
  - name: "@b4h0_c4t"
    link: https://twitter.com/b4h0_c4t
  - name: "@__sosukesuzuki"
    link: https://twitter.com/__sosukesuzuki
guest:
---

### [Compat2021: Eliminating five top compatibility pain points on the web](https://web.dev/compat2021/)

- å…±æœ‰è€…: sakito

Compat2021ã¨ã„ã†å–ã‚Šçµ„ã¿ã®ç´¹ä»‹è¨˜äº‹ã«ãªã‚Šã¾ã™ã€‚
åŒæ™‚ã«[ãƒã‚¤ã‚¯ãƒ­ã‚½ãƒ•ãƒˆ](https://blogs.windows.com/msedgedev/2021/03/22/better-compatibility-compat2021/)ã€[Igalia](https://www.igalia.com/2021/03/22/Igalia-and-Compat2021.html)ã‹ã‚‰ã‚‚Compat2021ã«ã¤ã„ã¦ã®å„ç¤¾ã®å–ã‚Šçµ„ã¿ã«ã¤ã„ã¦è¨˜äº‹ãŒå…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚

[WebDNA](https://insights.developer.mozilla.org/reports/mdn-browser-compatibility-report-2020.html)ãªã©ã‚’é€šã—ã¦è¡Œã‚ã‚Œã¦ããŸèª¿æŸ»ã§æµ®ãå½«ã‚Šã«ãªã£ãŸé–‹ç™ºè€…ãŒæ„Ÿã˜ã¦ã„ã‚‹å•é¡Œã«ã¤ã„ã¦ã€Œãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã®äº’æ›æ€§ã€ãŒå¤šãã‚ãŒã£ã¦ãŠã‚Šã€ãã®å•é¡Œã«ã¤ã„ã¦æ”¹å–„ã—ã¦ã„ãã¨ã„ã†å†…å®¹ã«ãªã£ã¦ã„ã¾ã™ã€‚
ç‰¹ã«CSSé–¢é€£ã§CSS Flexbox, CSS Grid, CSS position: sticky, CSS aspect-ratio property, CSS transformsãŒå„ãƒ–ãƒ©ã‚¦ã‚¶ã§å¾®å¦™ã«æŒ™å‹•ãŒç•°ãªã‚‹ã“ã¨ã«ã‚ˆã‚‹è¾›ã•ãŒå¤šãæŒ™ã’ã‚‰ã‚Œã¦ã„ã‚‹ã®ã§ã€ã“ã“ã‚’2021å¹´ã¯æ”¹å–„ã—ã¦ã„ãã¨ã®ã“ã¨ã§ã™ã€‚

è¨˜äº‹ã§ã¯å…·ä½“çš„ã«ã©ã®ã‚ˆã†ãªæŒ™å‹•ã®å·®ãŒã‚ã‚‹ã®ã‹ã‚‚ã¾ã¨ã¾ã£ã¦ã„ã¾ã™ã€‚

[ãƒ¡ãƒ¼ãƒªãƒ³ã‚°ãƒªã‚¹ãƒˆ](https://groups.google.com/g/compat2021)ã‚„[web-platform-tests dashboard - Compat 2021 Dashboard](https://wpt.fyi/compat2021?feature=summary)ã§æƒ…å ±ã‚’è¿½ã„ã‹ã‘ã‚‹ã“ã¨ãŒã§ãã‚‹ã®ã¨ã€ä»Šå¾Œã‚‚ç¶™ç¶šçš„ã«ã“ã®å•é¡Œã«ã¤ã„ã¦æƒ…å ±ãŒã‚ãŒã£ã¦ãã‚‹ã‚ˆã†ã§ã™ã€‚

Chromiumä»¥å¤–ã«ã‚‚Geckoã‚„WebKitã‚‚æ”¹å–„ã•ã‚Œãªã„ã¨æ„å‘³ãŒãªã„ã‚ˆã†ãªæ°—ãŒã—ã¾ã™ãŒã€WebKitã«ã¤ã„ã¦ã¯IgaliaãŒå–ã‚Šçµ„ã¿ã«ã¤ã„ã¦è§¦ã‚Œã¦ã„ã‚‹ã®ã§IgaliaãŒWebKitã«å”åŠ›ã—ã¦ã„ãã€ã»ã‹ã®ãƒ™ãƒ³ãƒ€ãƒ¼ãŒå…±åŒã§ãƒ–ãƒ©ã‚¦ã‚¶ã®æ”¹å–„ã«å–ã‚Šçµ„ã‚€ã®ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚

CSSã®å¾®å¦™ãªé•ã„ã«ã¤ã„ã¦ã¯ã‹ãªã‚Šç›´é¢ã™ã‚‹ã‚±ãƒ¼ã‚¹ã§ã‚‚ã‚ã‚Šã€ç¢ºèªã‚‚å¤§å¤‰ãªã®ã§å¬‰ã—ã„å–ã‚Šçµ„ã¿ã ã¨æ€ã„ã¾ã™ã€‚

---

### [ãƒ†ã‚­ã‚¹ãƒˆã«éš ã—æƒ…å ±ã‚’åŸ‹ã‚è¾¼ã‚€npmãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’å…¬é–‹ã—ã¾ã—ãŸ
](https://zenn.dev/redshoga/articles/ca28db8afd6b44)

- å…±æœ‰è€…: nakajmg


é›»å­é€ã‹ã—ã‚’å…¥ã‚Œã‚‹ã“ã¨ãªã©ã‚’ç›®çš„ã¨ã—ãŸã€è¡¨ç¤ºã•ã‚Œãªã„æ–‡å­—ã‚’ä½¿ã£ã¦ãƒ†ã‚­ã‚¹ãƒˆã«ãƒ‡ãƒ¼ã‚¿ã‚’åŸ‹ã‚è¾¼ã‚€è©±ã€‚


```
ãƒ†â€‹â€‹â€‹â€Œâ€Œâ€Œâ€‹â€‹â€‹â€Œâ€Œâ€Œâ€Œâ€Œâ€‹â€Œâ€‹â€Œâ€‹â€‹â€Œâ€‹â€Œâ€‹â€‹â€‹â€‹â€Œâ€Œâ€Œâ€‹â€‹â€‹â€Œâ€Œâ€Œâ€Œâ€Œâ€‹â€Œâ€‹â€Œâ€‹â€Œâ€Œâ€‹â€Œâ€Œã‚­â€‹â€‹â€‹â€Œâ€Œâ€Œâ€‹â€‹â€‹â€Œâ€Œâ€Œâ€Œâ€Œâ€‹â€‹â€‹â€Œâ€Œâ€‹â€‹â€‹â€Œâ€Œâ€‹â€‹â€‹â€Œâ€Œâ€Œâ€‹â€‹â€‹â€Œâ€Œâ€Œâ€Œâ€Œâ€‹â€Œâ€‹â€Œâ€‹â€Œâ€Œâ€‹â€‹â€Œã‚¹â€‹â€‹â€‹â€Œâ€Œâ€Œâ€‹â€‹â€‹â€Œâ€Œâ€Œâ€Œâ€Œâ€‹â€Œâ€‹â€Œâ€‹â€‹â€‹â€Œâ€‹â€Œâ€‹â€‹â€‹â€Œâ€Œâ€Œâ€‹â€‹â€‹â€Œâ€Œâ€Œâ€Œâ€Œâ€‹â€‹â€‹â€Œâ€Œâ€‹â€Œâ€‹â€Œâ€‹ãƒˆâ€‹â€‹â€‹â€Œâ€Œâ€Œâ€‹â€‹â€‹â€Œâ€Œâ€Œâ€Œâ€Œâ€‹â€‹â€‹â€Œâ€‹â€Œâ€‹â€‹â€Œâ€‹â€‹â€‹â€‹â€Œâ€Œâ€Œâ€‹â€‹â€‹â€Œâ€Œâ€Œâ€Œâ€Œâ€‹â€‹â€‹â€Œâ€‹â€‹â€Œâ€Œâ€‹â€‹ã‚’â€‹â€‹â€‹â€Œâ€Œâ€Œâ€‹â€‹â€‹â€Œâ€Œâ€Œâ€Œâ€Œâ€‹â€‹â€‹â€Œâ€Œâ€Œâ€‹â€Œâ€Œâ€Œâ€‹â€‹â€‹â€Œâ€Œâ€Œâ€‹â€‹â€‹â€Œâ€Œâ€Œâ€Œâ€Œâ€‹â€Œâ€‹â€Œâ€‹â€Œâ€‹â€Œâ€Œâ€Œã‚³â€‹â€‹â€‹â€Œâ€Œâ€Œâ€‹â€‹â€‹â€Œâ€Œâ€Œâ€Œâ€Œâ€‹â€‹â€‹â€Œâ€‹â€‹â€Œâ€Œâ€‹â€‹â€‹â€‹â€‹â€Œâ€Œâ€Œâ€‹â€‹â€‹â€Œâ€Œâ€Œâ€Œâ€Œâ€‹â€‹â€‹â€Œâ€Œâ€Œâ€‹â€Œâ€Œâ€‹ãƒ”â€‹â€‹â€‹â€Œâ€Œâ€Œâ€‹â€‹â€‹â€Œâ€Œâ€Œâ€Œâ€Œâ€‹â€‹â€‹â€Œâ€Œâ€‹â€‹â€‹â€‹â€Œâ€‹â€‹â€‹â€Œâ€Œâ€Œâ€‹â€‹â€‹â€Œâ€Œâ€Œâ€Œâ€Œâ€‹â€‹â€‹â€Œâ€‹â€‹â€Œâ€Œâ€‹â€‹ãƒ¼â€‹â€‹â€‹â€Œâ€Œâ€Œâ€‹â€‹â€‹â€Œâ€Œâ€Œâ€Œâ€Œâ€‹â€Œâ€‹â€Œâ€‹â€‹â€‹â€Œâ€Œâ€‹â€‹â€‹â€‹â€Œâ€Œâ€Œâ€‹â€‹â€‹â€Œâ€Œâ€Œâ€Œâ€Œâ€‹â€‹â€‹â€Œâ€‹â€Œâ€‹â€Œâ€‹â€Œã—â€‹â€‹â€‹â€Œâ€Œâ€Œâ€‹â€‹â€‹â€Œâ€Œâ€Œâ€Œâ€Œâ€‹â€‹â€‹â€Œâ€‹â€‹â€‹â€‹â€Œâ€Œã¦ã­
```

ğŸ‘†ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ https://zero-width-watermark-web.vercel.app/ ã§ XTRACT MODEã«ã—ã¦ã‚³ãƒ”ãƒšã—ã¦Extractã‚’å®Ÿè¡Œã™ã‚‹ã¨â€¦ã€‚

ğŸ‘

å®Ÿè£…ã¨ã—ã¦ã¯ãƒ†ã‚­ã‚¹ãƒˆã‚’Uint8Arrayã«å¤‰æ›ã—ã¦`0`ã¨`1`ã‚’ã‚¼ãƒ­å¹…æ–‡å­—(`0x200c`ã¨`0x200b`)ã«å¤‰æ›ã—ã¦åŸ‹ã‚è¾¼ã‚“ã§ã„ã¾ã™ã€‚

ã“ã®æ‰‹æ³•ã¯æ•°å¹´å‰ã«è©±é¡Œã«ãªã£ãŸã“ã¨ãŒã‚ã‚Šã¾ã—ãŸã€‚

[ã‚¼ãƒ­å¹…æ–‡å­—ã«ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã—ãŸéš ã—æƒ…å ±ã§ã€æ–‡æ›¸ã‚’ãƒªãƒ¼ã‚¯ã—ãŸãƒ¡ãƒ³ãƒãƒ¼ã‚’ç‰¹å®š](https://labs.cybozu.co.jp/blog/akky/2018/04/leaker-detection-by-zero-width-characters/)

---

[How MDN's site-search works - Mozilla Hacks - the Web developer blog](https://hacks.mozilla.org/2021/03/how-mdns-site-search-works/)

- å…±æœ‰è€…: zaki___yama

MDNã®æ¤œç´¢ã®ã—ãã¿ã«ã¤ã„ã¦ã€‚
TODO: èª­ã‚“ã ã‚‰è©³ç´°æ›¸ãã¾ã™

---

### [Error Cause in JavaScript - DEV Community](https://dev.to/hemanth/error-cause-in-javascript-425d)

- å…±æœ‰è€…: pirosikick

Errorã®ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã®ç¬¬2å¼•æ•°ã«ä»–ã®ã‚¨ãƒ©ãƒ¼ã‚’æ¸¡ã™ã“ã¨ãŒã§ãã‚‹ãƒ—ãƒ­ãƒãƒ¼ã‚¶ãƒ«ã«ã¤ã„ã¦ã€‚çŸ¥ã‚‰ã¬é–“ã«ã‚‚ã†Stage 3ã«ãªã£ã¦ã„ãŸã€‚
ä¸‹æµã§èµ·ããŸã‚¨ãƒ©ãƒ¼ã‚’ä¸Šæµã«æµã—ã¦ã„ãéç¨‹ã§ã€ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€£çµã—ãŸã‚Šã€ç‹¬è‡ªã®ã‚¨ãƒ©ãƒ¼ã‚’ä½œã£ãŸã‚Šã›ãšã«ã€
ã“ã®ã‚ˆã†ãªè¨€èªã§å…¬å¼ã®æ–¹æ³•ãŒã§ãã‚‹ã¨è‰²ã€…ã¨ä½¿ã„ã¾ã‚ã—ãŒã‚ˆã•ãã†ã€‚
ï¼ˆGolangã§ã¯ã‚¨ãƒ©ãƒ¼ã‚’ãƒ©ãƒƒãƒ—ã—ã¦è¿”ã™ã®ã¯ãŠãªã˜ã¿ã§ã€çµæ§‹ä¾¿åˆ©ã€‚ï¼‰

```js
const cause = new Error('â€¦');
const err = new Error('â€¦', { cause });
console.log(err.cause === cause); // true
```

åŒã˜ã‚ˆã†ãªã“ã¨ã‚’ã‚„ã£ã¦ãã‚Œã‚‹[verror](https://www.npmjs.com/package/verror)ã¨ã„ã†ã®ãŒã‚ã‚‹ãŒã€
ãŸã¶ã‚“Universalã˜ã‚ƒãªã„ã—ã€ãã“ã¾ã§ãƒ¡ã‚¸ãƒ£ãƒ¼ã§ã¯ç„¡ã„æ°—ãŒã™ã‚‹ã€‚
ã“ã®ææ¡ˆã‚’ãƒ™ãƒ¼ã‚¹ã«ã€Golangã®`errors.As`ã¿ãŸã„ãªã®ã‚’ä½œã‚‹ã¨ä¾¿åˆ©ãã†ã€‚

```ts
// errãŒtypeå‹ã®Errorã‚’causeã«æŒã£ã¦ã„ã‚‹å ´åˆã«è¿”ã™
// é©å½“ã«æ›¸ã„ãŸã®ã§é–“é•ã„ã‚ã‚‹ã‹ã‚‚ï¼
function errorAs<
  T extends { new (...args: any[]): InstanceType<T> }
>(err: Error, type: T): InstanceType<T> | null {
  while(err) {
    if (err instanceof type) {
      return err;
    }
    err = err.cause;
  }
  return null;
}

const cause = new MyError('...');
const err = new Error('...', { cause });

const e = errorAs(err, MyError);
if (e) {
  // eã¯MyErrorã¨ã—ã¦æ‰±ãˆã‚‹
}
```

---
