<!DOCTYPE html><html lang="ja"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><meta name="description" content="サイボウズのフロントエンドエキスパートチームが月イチでお届けするフロントエンド情報"><meta name="twitter:card" content="summary"><meta name="twitter:creator" content="Cybozu Frontend Expert Team"><meta name="twitter:title" content="Cybozu Frontend Monthly #10"><meta name="twitter:description" content="サイボウズのフロントエンドエキスパートチームが月イチでお届けするフロントエンド情報"><meta property="og:title" content="Cybozu Frontend Monthly #10"><meta property="og:description" content="サイボウズのフロントエンドエキスパートチームが月イチでお届けするフロントエンド情報"><meta property="og:type" content="website"><meta property="og:image" content="https://cybozu.github.io/frontend-monthly/img/header.png"><link rel="icon" type="image/png" sizes="32x32" href="/frontend-monthly/icons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/frontend-monthly/icons/favicon-16x16.png"><meta name="generator" content="Astro v3.0.12"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.21.0/themes/prism.min.css"><title>Cybozu Frontend Monthly #10</title><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><link rel="stylesheet" href="/frontend-monthly/_astro/_slug_.884b4dcf.css" />
<style type="text/css">:root{--accent: 124, 58, 237;--accent-gradient: linear-gradient( 45deg, rgb(var(--accent)), #da62c4 30%, white 60% )}html{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji}body{margin:0;border-top:4px solid #64bdd4}code{font-family:Menlo,Monaco,Lucida Console,Liberation Mono,DejaVu Sans Mono,Bitstream Vera Sans Mono,Courier New,monospace}.main{box-sizing:border-box;min-width:200px;max-width:980px;width:100%;margin:0 auto;padding:15px 45px;color:#24292e}@media (max-width: 767px){.main{padding:12px;font-size:14px}.main .markdown-body{font-size:14px}.main .markdown-body h1{font-size:1.55em;margin-bottom:.25em;margin-top:.5em}.main .markdown-body h2{font-size:1.3em;margin-bottom:.25em;margin-top:.5em}.main .markdown-body h3{font-size:1.1em;margin-bottom:.25em;margin-top:.5em}.main .markdown-body img{max-width:100%;height:auto}.main hr{margin:12px 0}}.footer{background-color:#31424e;text-align:center;color:#f8f8ff;font-size:.75em;padding:5px 0;line-height:1.5}.footer a{color:inherit;text-decoration:none}.markdown-body li>*:first-child{padding-top:8px;padding-bottom:8px}.markdown-body li>ul{margin-top:8px}.markdown-body li+li{margin:8px 0}@keyframes astroFadeInOut{0%{opacity:1}to{opacity:0}}@keyframes astroFadeIn{0%{opacity:0}}@keyframes astroFadeOut{to{opacity:0}}@keyframes astroSlideFromRight{0%{transform:translate(100%)}}@keyframes astroSlideFromLeft{0%{transform:translate(-100%)}}@keyframes astroSlideToRight{to{transform:translate(100%)}}@keyframes astroSlideToLeft{to{transform:translate(-100%)}}@media (prefers-reduced-motion){::view-transition-group(*),::view-transition-old(*),::view-transition-new(*){animation:none!important}[data-astro-transition-scope]{animation:none!important}}
</style><script type="module" src="/frontend-monthly/_astro/hoisted.14b5b446.js"></script><style>[data-astro-transition-scope="astro-6ynojplz-1"] { view-transition-name: astro-6ynojplz-1; }@layer astro { ::view-transition-old(astro-6ynojplz-1) { 
	animation-duration: 90ms, 220ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1), cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both, both;
	animation-name: astroFadeOut, astroSlideToLeft; }::view-transition-new(astro-6ynojplz-1) { 
	animation-duration: 210ms, 220ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1), cubic-bezier(0.76, 0, 0.24, 1);
	animation-delay: 30ms;
	animation-fill-mode: both, both;
	animation-name: astroFadeIn, astroSlideFromRight; }[data-astro-transition=back]::view-transition-old(astro-6ynojplz-1) { 
	animation-name: astroFadeOut, astroSlideToRight; }[data-astro-transition=back]::view-transition-new(astro-6ynojplz-1) { 
	animation-name: astroFadeIn, astroSlideFromLeft; } }[data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-6ynojplz-1"],
			[data-astro-transition-fallback="old"][data-astro-transition-scope="astro-6ynojplz-1"] { 
	animation-duration: 90ms, 220ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1), cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both, both;
	animation-name: astroFadeOut, astroSlideToLeft; }[data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-6ynojplz-1"],
			[data-astro-transition-fallback="new"][data-astro-transition-scope="astro-6ynojplz-1"] { 
	animation-duration: 210ms, 220ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1), cubic-bezier(0.76, 0, 0.24, 1);
	animation-delay: 30ms;
	animation-fill-mode: both, both;
	animation-name: astroFadeIn, astroSlideFromRight; }[data-astro-transition=back][data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-6ynojplz-1"],
			[data-astro-transition=back][data-astro-transition-fallback="old"][data-astro-transition-scope="astro-6ynojplz-1"] { 
	animation-name: astroFadeOut, astroSlideToRight; }[data-astro-transition=back][data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-6ynojplz-1"],
			[data-astro-transition=back][data-astro-transition-fallback="new"][data-astro-transition-scope="astro-6ynojplz-1"] { 
	animation-name: astroFadeIn, astroSlideFromLeft; }</style></head><body><main class="main" data-astro-transition-scope="astro-6ynojplz-1"><h1 class="post-title" data-astro-cid-gjtny2mx>Cybozu Frontend Monthly #10</h1><div class="markdown-body" data-astro-cid-gjtny2mx><img src="/frontend-monthly/_astro/header.fbc93836_1LeOhz.webp" alt="タイトル画像" data-astro-cid-grpv5qb7 width="660" height="346" loading="lazy" decoding="async"><h2 data-astro-cid-grpv5qb7>イベント概要</h2><p data-astro-cid-grpv5qb7><strong data-astro-cid-grpv5qb7>サイボウズフロントエンドマンスリー</strong>
は、サイボウズ社内で行っているフロントエンド情報共有会「フロントエンドウィークリー」の公開版です。
</p><p data-astro-cid-grpv5qb7>
その月に気になったフロントエンドの情報を、サイボウズのフロントエンドエンジニアのメンバーが共有していきます。
</p><p data-astro-cid-grpv5qb7><strong data-astro-cid-grpv5qb7>
このイベントのハッシュタグは <a href="https://twitter.com/search?q=%23%E3%82%B5%E3%82%A4%E3%83%9C%E3%82%A6%E3%82%BA%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E3%82%A8%E3%83%B3%E3%83%89%E3%83%9E%E3%83%B3%E3%82%B9%E3%83%AA%E3%83%BC" target="_blank" rel="noopener noreferrer" data-astro-cid-grpv5qb7>
#サイボウズフロントエンドマンスリー
</a> 
です。
</strong></p><div class="note" data-astro-cid-grpv5qb7><h3 data-astro-cid-grpv5qb7>※フロントエンドウィークリーとは</h3><p data-astro-cid-grpv5qb7>
毎週火曜の 17:00 〜 18:00
    で社内向けに行っているフロントエンドの気になる記事を紹介する会です。<br data-astro-cid-grpv5qb7>
2016年3月15日から行われています。<br data-astro-cid-grpv5qb7>
ハッシュタグ <a href="https://twitter.com/search?q=%23%E3%82%B5%E3%82%A4%E3%83%9C%E3%82%A6%E3%82%BA%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E3%82%A8%E3%83%B3%E3%83%89%E3%82%A6%E3%82%A3%E3%83%BC%E3%82%AF%E3%83%AA%E3%83%BC" target="_blank" rel="noopener noreferrer" data-astro-cid-grpv5qb7>
#サイボウズフロントエンドウィークリー
</a> 
で実況しています。
</p><p data-astro-cid-grpv5qb7>
zennのpublicationにてウィークリーのまとめも投稿していますので、ぜひこちらもご覧ください。
<a href="https://zenn.dev/p/cybozu_frontend" target="_blank" rel="noopener noreferrer" data-astro-cid-grpv5qb7>
https://zenn.dev/p/cybozu_frontend
</a></p></div><h3 data-astro-cid-grpv5qb7>開催日</h3><p data-astro-cid-grpv5qb7>2021年04月27日</p><h3 data-astro-cid-grpv5qb7>イベントページ</h3><p data-astro-cid-grpv5qb7><a href="https://cybozu.connpass.com/event/211827/" target="_blank" rel="noopener noreferrer" data-astro-cid-grpv5qb7>https://cybozu.connpass.com/event/211827/</a></p><h3 data-astro-cid-grpv5qb7>配信URL</h3><p data-astro-cid-rqusjlqv><iframe title="https://www.youtube.com/embed/LssNt4WtnyA" width="560" height="315" src="https://www.youtube.com/embed/LssNt4WtnyA" style="border: 0;" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen class="embed" data-astro-cid-rqusjlqv></iframe><a href="https://www.youtube.com/watch?v=LssNt4WtnyA" target="_blank" rel="noreferrer noopner" data-astro-cid-rqusjlqv>https://www.youtube.com/watch?v=LssNt4WtnyA</a></p><h2 data-astro-cid-5i3bjwe7>メンバー</h2><div class="members" data-astro-cid-5i3bjwe7><div class="member" data-astro-cid-5i3bjwe7><img src="/frontend-monthly/img/@koba04.jpg" class="thumbnail" alt="@koba04" width="100" height="100" data-astro-cid-5i3bjwe7><a href="https://twitter.com/koba04" target="_blank" rel="noopener noreferrer" data-astro-cid-5i3bjwe7>@koba04</a></div><div class="member" data-astro-cid-5i3bjwe7><img src="/frontend-monthly/img/@pirosikick.jpg" class="thumbnail" alt="@pirosikick" width="100" height="100" data-astro-cid-5i3bjwe7><a href="https://twitter.com/pirosikick" target="_blank" rel="noopener noreferrer" data-astro-cid-5i3bjwe7>@pirosikick</a></div><div class="member" data-astro-cid-5i3bjwe7><img src="/frontend-monthly/img/@__sakito__.jpg" class="thumbnail" alt="@__sakito__" width="100" height="100" data-astro-cid-5i3bjwe7><a href="https://twitter.com/__sakito__" target="_blank" rel="noopener noreferrer" data-astro-cid-5i3bjwe7>@__sakito__</a></div><div class="member" data-astro-cid-5i3bjwe7><img src="/frontend-monthly/img/@shisama_.jpg" class="thumbnail" alt="@shisama_" width="100" height="100" data-astro-cid-5i3bjwe7><a href="https://twitter.com/shisama_" target="_blank" rel="noopener noreferrer" data-astro-cid-5i3bjwe7>@shisama_</a></div><div class="member" data-astro-cid-5i3bjwe7><img src="/frontend-monthly/img/@nakajmg.jpg" class="thumbnail" alt="@nakajmg" width="100" height="100" data-astro-cid-5i3bjwe7><a href="https://twitter.com/nakajmg" target="_blank" rel="noopener noreferrer" data-astro-cid-5i3bjwe7>@nakajmg</a></div><div class="member" data-astro-cid-5i3bjwe7><img src="/frontend-monthly/img/@b4h0_c4t.jpg" class="thumbnail" alt="@b4h0_c4t" width="100" height="100" data-astro-cid-5i3bjwe7><a href="https://twitter.com/b4h0_c4t" target="_blank" rel="noopener noreferrer" data-astro-cid-5i3bjwe7>@b4h0_c4t</a></div><div class="member" data-astro-cid-5i3bjwe7><img src="/frontend-monthly/img/@__sosukesuzuki.jpg" class="thumbnail" alt="@__sosukesuzuki" width="100" height="100" data-astro-cid-5i3bjwe7><a href="https://twitter.com/__sosukesuzuki" target="_blank" rel="noopener noreferrer" data-astro-cid-5i3bjwe7>@__sosukesuzuki</a></div></div><h2 data-astro-cid-5i3bjwe7>ゲスト</h2><div class="members" data-astro-cid-5i3bjwe7><div class="member" data-astro-cid-5i3bjwe7><img src="/frontend-monthly/img/@lacolaco.jpg" class="thumbnail" alt="@lacolaco" data-astro-cid-5i3bjwe7><a href="https://twitter.com/laco2net" target="_blank" rel="noopener noreferrer" data-astro-cid-5i3bjwe7>@lacolaco</a></div></div><hr><h2>コンテンツ</h2><h3 id="mdn-のフレームワークガイドに-angular-チュートリアルが追加された">MDN のフレームワークガイドに Angular チュートリアルが追加された</h3>
<ul>
<li>共有者: lacolaco</li>
</ul>
<p><a href="https://developer.mozilla.org/en-US/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks">Understanding client-side JavaScript frameworks - Learn web development | MDN</a> にはこれまで React, Ember, Vue, Svelte のチュートリアルがあったが、そこに Angular も追加された。</p>
<p><a href="https://developer.mozilla.org/en-US/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks#angular_tutorials">Angular tutorials</a></p>
<p>Google の Angular Docs チームがチュートリアルを作成して提供したらしい。</p>
<p><a href="https://github.com/mdn/content/pull/3972">adding angular docs by chrisdavidmills · Pull Request #3972 · mdn/content</a></p>
<hr>
<h3 id="e2e-テストツールの-protractor-の開発終了計画">E2E テストツールの Protractor の開発終了計画</h3>
<ul>
<li>共有: lacolaco</li>
</ul>
<p><a href="https://github.com/angular/protractor/issues/5502">Future of Angular E2E &#x26; Plans for Protractor · Issue #5502 · angular/protractor</a></p>
<p>2013 年から Angular チームが開発してきた E2E ツール <a href="https://github.com/angular/protractor">Protractor</a> を 2022 年をもって終了する計画。</p>
<ul>
<li>v12 (今年 5 月) から新規プロジェクトへのデフォルト導入を廃止</li>
<li>v15 (来年冬）にメンテナンス終了</li>
</ul>
<p>Angular CLI の <code>ng e2e</code> コマンドは互換性のあるサードパーティ E2E ツールの導入によって機能するようになり、デフォルトでは実体を持たない予定。（<code>ng deploy</code> と AngularFire、<code>ng lint</code> と <code>angular-eslint</code> のような関係になる）</p>
<p>背景:</p>
<ul>
<li>2013 年当初、まだ WebDriver API が標準化されていない時期、非同期処理をサポートした E2E テストのために Protractor を開発した
<ul>
<li>Promise による非同期コールバック地獄をどう克服するかが焦点</li>
<li>（WebDriver って W3C に Spec あったの初めて知った <a href="https://www.w3.org/TR/webdriver/">https://www.w3.org/TR/webdriver/</a>)</li>
</ul>
</li>
<li>WebDriverJS(Selenium)や Protractor は Promise Manager（あるいは Control Flow）と呼ばれる機能を実装し、E2E テストケースの記述に Promise が登場しないようにした
<ul>
<li>テストケース上は同期的に書けるような API</li>
<li><a href="https://github.com/SeleniumHQ/selenium/wiki/WebDriverJs#introduction">https://github.com/SeleniumHQ/selenium/wiki/WebDriverJs#introduction</a></li>
<li>Puppetter や Cypress の書き味のベースになっているのがよくわかる</li>
</ul>
</li>
<li><code>async/await</code> の登場
<ul>
<li>Promise Manager なしでも同期処理のような書き方でテストが書けるようになった</li>
<li><code>async/await</code> には JavaScript からフックできないため、Promise Manager とは互換性がない</li>
</ul>
</li>
<li>2013 年からメンテナンスされてきた Protractor を ES2017 ベースに作り変えるのは非常に労力がかかるため、サポートを終了する
<ul>
<li>もともと AngularJS アプリの E2E テストのために作ったが AngularJS も今年で EOL なので、維持する理由がほぼなくなった</li>
</ul>
</li>
</ul>
<hr>
<h3 id="cookie-利用通知のベストプラクティス">Cookie 利用通知のベストプラクティス</h3>
<ul>
<li>共有: lacolaco</li>
</ul>
<p><a href="https://web.dev/cookie-notice-best-practices/">Best practices for cookie notices</a></p>
<p>web.dev より、パフォーマンスやユーザー体験をできるだけ損なわないように Cookie の利用表示を出すためのプラクティス</p>
<ul>
<li>Cookie 通知スクリプトは非同期で読み込む
<ul>
<li>できるだけ Resource Hints も使って先読みする</li>
</ul>
</li>
<li>Testing cookie notices with WebPageTest
<ul>
<li>WebPageTest の機能で Cookie 通知のボタンを押すところまでをテストできる</li>
</ul>
</li>
<li>Testing cookie notices with Lighthouse
<ul>
<li><code>Clear Storage</code> でテストすれば Cookie 通知が出る状態をテストできる</li>
<li>CLI の場合は <code>--extra-headers</code> で任意の Cookie を無理やりつけてテストできる</li>
</ul>
</li>
<li>Placement
<ul>
<li>ヘッダーかフッターが一般的
<ul>
<li>特にフッターはレイアウトシフトも起こさないので推奨</li>
</ul>
</li>
<li>インラインも有効だが実装の組み込みが容易じゃない場合が多く選択されにくい</li>
<li>モーダル
<ul>
<li>小さい部分モーダルなら CLS を引き起こさず邪魔にならない通知を出す手段になる可能性</li>
<li>全画面モーダルはユーザーの脱落が起こりやすいため注意
<ul>
<li>
<blockquote>
<p>フルスクリーンの Cookie 同意モーダルの使用を検討している場合は、<a href="https://techcrunch.com/2020/05/06/no-cookie-consent-walls-and-no-scrolling-isnt-consent-says-eu-data-protection-body/">cookie walls</a>に関する法律に注意する必要があります。</p>
</blockquote>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<h3 id="サードパーティスクリプトをコントロール下に置く">サードパーティスクリプトをコントロール下に置く</h3>
<ul>
<li>共有: lacolaco</li>
</ul>
<p><a href="https://web.dev/controlling-third-party-scripts/">Keeping third-party scripts under control</a></p>
<ul>
<li>サードパーティスクリプトをコントローラブルな状態で利用するためのガバナンス設計</li>
<li>Tag governance process
<ul>
<li>コンプライアンス</li>
<li>必要性の確認</li>
<li>オーナーシップの明確化</li>
<li>利用用途の明確化
<ul>
<li>
<blockquote>
<p>Furthermore, have there been any commercial vs performance trade-off discussions? If there is a tag that is deemed as “required” because it brings in revenue, has there been an analysis to the potential revenue lost through speed regression</p>
</blockquote>
</li>
</ul>
</li>
<li>定期的なレビュー
<ul>
<li>Web サイトのスクリプトのサイズやサードパーティスクリプトの数など、気づかないうちに肥大化することを防ぐ</li>
<li>パフォーマンスバジェットとして定義して CI などで確認することもできるかもしれない</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<h3 id="april-2021-73---babelproposal"><a href="https://github.com/babel/proposals/issues/73">April 2021 #73 - babel/proposal</a></h3>
<ul>
<li>共有者: sosukesuzuki</li>
</ul>
<p>Google の Justin Ridgewell が TC39 ミーティングがあるたびにプロポーザルの変動を教えてくれる Issue 2021 年 4 月版。</p>
<p>今回の見どころ</p>
<ul>
<li>Class Features が Stage 4 になり ES2022 となる初めての提案に</li>
<li>object.has が今回初登場にも関わらず Stage 1 を飛ばして一気に Stage 2 へ</li>
</ul>
<h4 id="0---1">0 -> 1</h4>
<ul>
<li><a href="https://github.com/Jack-Works/proposal-readonly-arraybuffer/">Read-only ArrayBuffer</a>
<ul>
<li>freeze できる ArrayBuffer</li>
</ul>
</li>
<li><a href="https://github.com/Jack-Works/proposal-arraybuffer-fixed-view">Fixed view of ArrayBuffer</a>
<ul>
<li>DataView から .buffer が読めない ArrayBuffer</li>
</ul>
</li>
<li><a href="https://github.com/rricard/proposal-change-array-by-copy">Change Array by copy</a>
<ul>
<li>イミュータブルな配列操作メソッド</li>
</ul>
</li>
</ul>
<h4 id="0---2">0 -> 2</h4>
<ul>
<li><a href="https://github.com/jamiebuilds/proposal-object-has">object.has</a>
<ul>
<li><code>hasOwnProperty</code> のスタティックメソッド版</li>
</ul>
</li>
</ul>
<h4 id="1---2">1 -> 2</h4>
<ul>
<li><a href="https://github.com/tc39/proposal-symbols-as-weakmap-keys">Symbols as WeakMap keys</a>
<ul>
<li>WeakMap のキーとしてシンボルを使えるようになる</li>
</ul>
</li>
</ul>
<h4 id="3---4">3 -> 4</h4>
<p>ES2022 に入るはじめての提案</p>
<ul>
<li><a href="https://github.com/tc39/proposal-class-fields">Class Fields</a></li>
<li><a href="https://github.com/tc39/proposal-private-methods">Private methods</a></li>
<li><a href="https://github.com/tc39/proposal-static-class-features">Static class features</a></li>
</ul>
<hr>
<h3 id="slow-and-steady-converting-sentrys-entire-frontend-to-typescript"><a href="https://blog.sentry.io/2021/04/12/slow-and-steady-converting-sentrys-entire-frontend-to-typescript">Slow and Steady: Converting Sentry’s Entire Frontend to TypeScript</a></h3>
<ul>
<li>共有者: sakito</li>
</ul>
<p>Sentry を 12 人で 1 年間かけて 1100 ファイル(9,500 行)を TS に置き換えたはなしです。</p>
<p>TS に置き換える話は昨今よくある話ですが、この記事では取り組みについて啓蒙活動から具体的なアクションまで説明されています。</p>
<p>チームの教育 => 開発しやすいように基盤の構築 => 戦略を立てていく(頻繁に使用するファイルから倒していく) => モチベの維持(slackbot で進捗を可視化など)の流れで進めたとのことです。</p>
<p>TS の置き換えが終わるまで、React の hooks 化やライブラリーのアップデートを行わず集中してやったとも書かれています。</p>
<p>TS に置き換える以外でも参考になる話でした。</p>
<hr>
<h3 id="solving-a-mystery-behavior-of-parseint-in-javascript"><a href="https://dmitripavlutin.com/parseint-mystery-javascript/">Solving a Mystery Behavior of parseInt() in JavaScript</a></h3>
<ul>
<li>共有者: pirosikick</li>
</ul>
<p>小ネタ。<code>parseInt(0.000005)</code>は<code>0</code>を返すのに、<code>parseInt(0.0000005)</code>は<code>5</code>を返す件について。最近、別件で parseInt 関数の仕様を調べる機会があったので紹介。</p>
<p><a href="https://tc39.es/ecma262/#sec-parseint-string-radix">parseInt 関数の仕様</a>は、かなりざ〜っくり説明すると以下のとおり。</p>
<ul>
<li>parseInt(string, radix)</li>
<li>inputString = ToString(string)</li>
<li>inputString の先頭のスペースを trim する</li>
<li>radix が<code>0</code> or <code>undefined</code>の場合は、radix = 10 とするけど、string の先頭が”0x” or “0X”の場合は radix = 16</li>
<li>radix が<code>16</code>の場合、string は”0x” or “0X で始まってもいい</li>
<li>radix &#x3C; 2 || radix > 36 → return NaN</li>
<li>先頭の<code>+</code>,<code>-</code>（プラス、マイナス）は取り除いて、
radix 進数の範囲外の文字が見つかったらその文字の前までの文字列を評価する
<ul>
<li>例）radix が<code>2</code>で<code>"0101012"</code>が入力された場合、<code>"010101"</code>を評価する</li>
</ul>
</li>
<li>先頭が<code>-</code>の場合は、-1 を掛ける</li>
</ul>
<p>parseInt 関数の第 1 引数は<code>ToString</code>されるので、<code>0.0000005</code>は<code>"5e-7"</code>になる（ちなみに、<code>String(0.000005)</code>は<code>"0"</code>）。「radix 進数の範囲外の文字が見つかったらその文字の前までの文字列を評価する」ので<code>"5"</code>だけ評価され、<code>5</code>を返す。</p>
<p>ちなみに、「radix 進数の範囲外の文字が見つかったらその文字の前までの文字列を評価する」という仕様は、<code>"10px"</code>のような数字 + suffix の文字列から数字だけを取り出すときに便利。</p>
<pre class="language-js"><code is:raw="" class="language-js"><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">"10px"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => 10</span></code></pre>
<hr>
<h3 id="今月の-ie11-関連情報">今月の IE11 関連情報</h3>
<ul>
<li>共有者: nakajmg</li>
</ul>
<p>今月も IE サポートを終了したり終了の予告を出すサービスや会社がありました。</p>
<ul>
<li><a href="https://help.abema.tv/hc/ja/articles/360055647611">ABEMA が 4/21 をもって IE11 のサポートを終了した</a></li>
<li><a href="https://help.hulu.jp/hc/ja/articles/900005502846">hulu が 2021/07/14 でサポートを終了を予告</a></li>
</ul>
<p>IE11 関連の動きが気になる方は<a href="https://docs.google.com/document/d/1XP58gVMyp_UCP4FFsf5ATpvRVwqi7v_EpEF3sl_Sobk">IE11 サポート終了の歴史</a>をチェック。</p>
<hr>
<h3 id="deps-add-yarn-1225-by-arcanis--pull-request-37277--nodejsnode"><a href="https://github.com/nodejs/node/pull/37277">deps: add Yarn 1.22.5 by arcanis · Pull Request #37277 · nodejs/node</a></h3>
<ul>
<li>共有者: shisama</li>
</ul>
<p>yarn v1をNode.js本体に追加するPRが出ています。</p>
<p>これがマージされれば、npmで個別にyarnをインストールしなくてもNode.jsをインストールするだけでyarnも使えるようになります。</p>
<p>ただ、yarnはすでにv2がリリースされていて、今後はyarn v2がメンテされていきます。
そのため、v1すでにレガシーという意見もありますが、現状<code>npm install yarn</code>ではv1がインストールされる現状やv1は今でも利用者が多いことや、yarn v2を使いたいユーザーにとっても価値のあるものとしてyarn v1を選んだとのこと。</p>
<blockquote>
<p>Yarn 1 isn’t legacy
<a href="https://github.com/nodejs/node/pull/37277#issuecomment-775586604">https://github.com/nodejs/node/pull/37277#issuecomment-775586604</a></p>
</blockquote>
<p>yarnを加えること自体に賛否があります。
yarnはnpmよりパフォーマンスなど優れているんだからyarnは入れるべきという意見や、メンテコストが上がるから増やすべきではないという意見があります。そもそもNode.js本体にパッケージマネージャーは入れなくてもいいのではという意見もあります。</p>
<p>しかし現行のnpmはyarn v1と同じぐらい優れているし、yarn v1には修正されない重大なバグもある、複数パッケージがあると初心者は混乱するのではないかと指摘があります。
<a href="https://github.com/nodejs/node/pull/37277#issuecomment-817898794">https://github.com/nodejs/node/pull/37277#issuecomment-817898794</a></p>
<p>もう一案としてはcorepack経由でyarnをNode.js本体に含めるという案もあります。
<a href="https://github.com/nodejs/node/pull/37277#issuecomment-819824338">https://github.com/nodejs/node/pull/37277#issuecomment-819824338</a></p>
<p>corepackはyarnとかpnpmなどnpm以外のパッケージマネージャーを一括管理するツールです。現在はnodejs管理下に置かれています。今でもnpmからインストールして使えます。
<a href="https://github.com/nodejs/corepack">https://github.com/nodejs/corepack</a></p>
<p>corepackをNode.js本体に入れるPRも出ています。
<a href="https://github.com/nodejs/node/pull/35398">https://github.com/nodejs/node/pull/35398</a></p>
<p>今週末にTSCのMTGがあって、この件もAgendaに載っているので何らかの動きがありそう。</p>
<p>Node.js関連だと4/20にNode.js v16がリリースされました。
M1 MacでもNode.jsが動くようになったり、timers/promisesが便利だったりします。
あと、Node.js v10が4/30でEnd-of-Lifeなので、移行してください。</p>
<ul>
<li><a href="https://nodejs.org/en/blog/release/v16.0.0/">Node v16.0.0 (Current) | Node.js</a></li>
<li><a href="https://shisama.hatenablog.com/entry/2021/04/22/090000">Node.js v16 の主な変更点 - 別にしんどくないブログ</a></li>
</ul>
<hr>
<h3 id="css-is-a-strongly-typed-language"><a href="https://css-tricks.com/css-is-a-strongly-typed-language/">CSS is a Strongly Typed Language</a></h3>
<ul>
<li>共有者: b4h0_c4t</li>
</ul>
<p>名前から強めの思想を感じ取ったので共有。</p>
<p>最近 TypeScript のような強い型付け言語がはやっているけど、CSSも強い型付け言語なんだよ、という話しの読み物系記事。
CSSプロパティの型リストが書いてあったり、CSSのレジリエンスについて幾つかのエラーケースをもとにCodePenで解説していたりと学びも多いと思います。</p>
<hr><h2 data-astro-cid-zlq3lpzk>フロントエンドエキスパートチームについて</h2><div class="wrapper" data-astro-cid-zlq3lpzk><script data-id="0efec8a9dd224baebfb2aaf30fbe9a28" data-ratio="1.33333333333333" src="//speakerdeck.com/assets/embed.js" class="speakerdeck-embed"></script></div><p data-astro-cid-zlq3lpzk><a href="https://speakerdeck.com/cybozuinsideout/frontendexpert-team" target="_blank" rel="nofollow noopener noreferrer" data-astro-cid-zlq3lpzk>https://speakerdeck.com/cybozuinsideout/frontendexpert-team</a></p></div></main><footer class="footer"><a href="/frontend-monthly/">Cybozu Frontend Monthly</a></footer></body></html>