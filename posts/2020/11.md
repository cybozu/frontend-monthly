---
title: Cybozu Frontend Monthly
date: "2020-11-24T17:00:00+09:00"
connpass:
streamUrl:
hashTag: "#ã‚µã‚¤ãƒœã‚¦ã‚ºãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒãƒ³ã‚¹ãƒªãƒ¼"
no: 5
members:
  - name: "@koba04"
    link: https://twitter.com/koba04
  - name: "@pirosikick"
    link: https://twitter.com/pirosikick
  - name: "@toshi__toma"
    link: https://twitter.com/toshi__toma
  - name: "@zaki___yama"
    link: https://twitter.com/zaki___yama
  - name: "@__sakito__"
    link: https://twitter.com/__sakito__
  - name: "@shisama_"
    link: https://twitter.com/shisama_
  - name: "@nakajmg"
    link: https://twitter.com/nakajmg
  - name: "@b4h0_c4t"
    link: https://twitter.com/b4h0_c4t
  - name: "@__sosukesuzuki"
    link: https://twitter.com/__sosukesuzuki
guest:
---

### [Performance Â· microsoft/TypeScript Wiki](https://github.com/microsoft/TypeScript/wiki/Performance)

- å…±æœ‰è€…:sakito

ã“ã® wiki è‡ªä½“ã¯ TypeScript ãƒãƒ¼ãƒ ãŒã‚³ãƒ³ãƒ‘ã‚¤ãƒ«é€Ÿåº¦ã‚„å®Ÿè£…ã®ä½“é¨“ã‚’ã‚ˆãã™ã‚‹ãŸã‚ã®æƒ…å ±ã¨ã—ã¦ã€å»å¹´ã”ã‚ã«å…¬é–‹ã—ã¦ã„ã¾ã—ãŸã€‚

ä»Šå¹´ã®ç§‹ã”ã‚[ã€ŒWriting Easy-to-Compile Codeã€](https://github.com/microsoft/TypeScript/wiki/Performance#writing-easy-to-compile-code)ã®é …ç›®ãŒè¿½åŠ ã•ã‚Œã¦ã„ã¾ã™ã€‚
ã“ã®é …ç›®ã¯ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒã„ã„æ›¸ãæ–¹ã‚’ç¤ºã—ã¦ãã‚Œã¦ã„ã¾ã™ã€‚

é …ç›®ã¯ä¸‹è¨˜ 3 ã¤ã«åˆ¥ã‚Œã¦ã„ã¾ã™ã€‚

- [Preferring Interfaces Over Intersections](https://github.com/microsoft/TypeScript/wiki/Performance#writing-easy-to-compile-code)
  - Type ã‚’ä½¿ã£ãŸ Intersection Types ã‚ˆã‚Šã‚‚ interface ã® extends ã®ã»ã†ãŒã„ã„ã¨ã®ã“ã¨ã€‚
- [Using Type Annotations](https://github.com/microsoft/TypeScript/wiki/Performance#using-type-annotations)
  - é–¢æ•°ã®æˆ»ã‚Šå€¤ã®å‹ã¯ã€æ˜ç¤ºçš„ã«å‹ã‚’å®šç¾©ã—ãŸã»ã†ãŒã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚é–“ã®ç¯€ç´„ã«ãªã‚‹ã€‚å‹æ¨è«–ã¯ä¾¿åˆ©ãªã®ã§ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã®ãƒœãƒˆãƒ«ãƒãƒƒã‚¯ã¨ãªã£ã¦ã‚‹å ´åˆã«ã¯è©¦ã—ã¦ã­ã¨ã®ã“ã¨ã€‚
- [Preferring Base Types Over Unions](https://github.com/microsoft/TypeScript/wiki/Performance#using-type-annotations)
  - Union Type ã‚’ä½¿ç”¨ã™ã‚‹ã‚ˆã‚Šã‚‚ sub types ã‚’ä½¿ã£ãŸæ–¹ãŒã‚ˆã„ã¨ã®ã“ã¨(ä¾‹ã®ã‚³ãƒ¼ãƒ‰ã‚’è¦‹ãŸæ–¹ãŒã‚ã‹ã‚Šã‚„ã™ã„)

interface ã¨ Type ã«é–¢ã™ã‚‹è¨˜äº‹ã¯æœ€è¿‘[ã€ŒTypeScript: Prefer Interfacesã€](https://ncjamieson.com/prefer-interfaces/)ã‚‚å‡ºã¦ãŠã‚Šã€
Type ã¯ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³åŒ–ã•ã‚Œã‚‹ã®ã§ d.ts ã®ã‚µã‚¤ã‚ºãŒè‚¥å¤§åŒ–ã™ã‚‹ã‹ã‚‰ interface ã‚’æ¨å¥¨ã™ã‚‹ã¨ã„ã†å†…å®¹ã®è¨˜äº‹ã«ãªã£ã¦ã„ã¾ã™ã€‚
ã“ã‚Œã¯ d.ts ã‚’æ›¸ãå ´åˆã«è¦šãˆã¦ãŠãã¨ã‚ˆã•ãã†ã§ã™ã€‚

TypeScript ã® Type ã‹ interface ã‚’ä½¿ã†ã‹ã€å‹æ¨è«–ã«ä»»ã›ã‚‹ã‹ã¯æ™‚ã¨å ´åˆã«ã‚ˆã‚‹ã¨ã„ã†ã®ã‚’å‰æã§ã®ç´¹ä»‹ã§ã—ãŸï¼

---

### [Vue Refã®ç³–è¡£æ§‹æ–‡ã¨ Svelte](https://zenn.dev/kalan/articles/6e96e13fb2b0447af4f6)
- å…±æœ‰è€…: nakajmg

vueã®rfcã«[`ref`](https://composition-api.vuejs.org/api.html#ref)ã®ç³–è¡£æ§‹æ–‡ã§ã‚ã‚‹[(Svelte inspiredãª)`ref:`æ§‹æ–‡ã«ã¤ã„ã¦ã®rfc](https://github.com/vuejs/rfcs/blob/script-setup/active-rfcs/0000-script-setup.md#2-ref-sugar-makes-ref-usage-more-succinct)ãŒå‡ºã•ã‚Œã¾ã—ãŸã€‚ã“ã®è¨˜äº‹ã§ã¯ãƒ¡ãƒªãƒ‡ãƒ¡ã‚„Svelteã¨ã®æ¯”è¼ƒãªã©ã«ã¤ã„ã¦æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚

#### rfcã®èƒŒæ™¯

vueã§ã¯ãƒªã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªå¤‰æ•°ã‚’å®šç¾©ã™ã‚‹ãŸã‚ã«`ref()`ã¨ã„ã†é–¢æ•°ã‚’ä½¿ã„ã¾ã™ã€‚

```js
import { createComponent, ref } from 'vue'

export default createComponent({
  setup() {
    const count = ref(1)

    function inc() {
      count.value++
    }

    console.log(count.value)

    return {
      count,
      inc
    }
  }
})
```

`ref()`ã§ä½œæˆã—ãŸå¤‰æ•°ã®å–å¾—/æ›´æ–°ã¯`count.value`ã®ã‚ˆã†ã«`.value`ã‚’çµŒç”±ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚TypeScriptã‚’æ¡ç”¨ã—ã¦ã„ã‚Œã°`.value`ã‚’çµŒç”±ã—ãªã„ã§å‚ç…§ã—ã‚ˆã†ã¨ã™ã‚‹ã¨ã‚¨ãƒ©ãƒ¼ãªã‚ŠãŒå‡ºã‚‹ã®ã§å•é¡Œãªã„ã§ã™ãŒã€ãã†ã§ãªã„å ´åˆã¯`ref()`ã§ä½œã‚‰ã‚ŒãŸå¤‰æ•°ã¨é€šå¸¸ã®(reactiveã˜ã‚ƒãªã„ï¼‰å¤‰æ•°ã‚’åŒºåˆ¥ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

#### ææ¡ˆã•ã‚ŒãŸæ§‹æ–‡

ã“ã®`.value`ã‚’ä½¿ã†ã®ãŒé¢å€’ã§å†—é•·ã ã‚ˆã­ã¨ã„ã†ã¨ã“ã‚ã‹ã‚‰æ¬¡ã®ã‚ˆã†ãªç³–è¡£æ§‹æ–‡ãŒææ¡ˆã•ã‚Œã¦ã„ã¾ã™ã€‚

```js
<script setup>
// declaring a variable that compiles to a ref
ref: count = 1

function inc() {
  // the variable can be used like a plain value
  count++
}

// access the raw ref object by prefixing with $
console.log($count.value)
</script>
```

> https://github.com/vuejs/rfcs/blob/script-setup/active-rfcs/0000-script-setup.md#2-ref-sugar-makes-ref-usage-more-succinct

[ãƒ©ãƒ™ãƒ«ä»˜ãæ–‡](https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Statements/label)ã®æ§‹æ–‡ã‚’ä½¿ã£ã¦reactiveãªå¤‰æ•°ã‚’å®šç¾©ã—ã€`.value`ãªã—ã«å‚ç…§ã—ã¦ã„ã¾ã™ã€‚

ã“ã®ã‚³ãƒ¼ãƒ‰ã¯ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚Œã¦ğŸ‘†ã«ã‚ã‚‹ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ã«å¤‰æ›ã•ã‚Œã¾ã™ã€‚

#### JavaScriptã®ã‚»ãƒãƒ³ãƒ†ã‚£ã‚¯ã‚¹ã¨ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•

`.value`ã‚’çµŒç”±ã™ã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã‚‹ã®ã¯JavaScriptã®è¨€èªçš„ãªåˆ¶ç´„ã‹ã‚‰ãã¦ã„ã‚‹ã‚‚ã®ã§ã€vueã¯JavaScriptã®ã‚»ãƒãƒ³ãƒ†ã‚£ã‚¯ã‚¹ã‚’å¤‰æ›´/æ‹¡å¼µã™ã‚‹ã“ã¨ãªããƒªã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã«ã“ã†ã—ã¦ã„ã¾ã™ã€‚
ä»Šå›ã®rfcã¯ã€JavaScriptã®ã‚»ãƒãƒ³ãƒ†ã‚£ã‚¯ã‚¹ã‹ã‚‰é€¸ã‚Œã¦ã‚‹ã¨èªè­˜ã—ãªãŒã‚‰ã‚‚ã€é–‹ç™ºè€…ã®ä½“é¨“ã‚’å‘ä¸Šã•ã›ã‚‹ãŸã‚ã«ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•ã‚’è¡Œã†ä½™åœ°ãŒã‚ã‚‹ã®ã§ã¯ã¨ã„ã†è€ƒãˆã‹ã‚‰æå‡ºã•ã‚Œã¾ã—ãŸã€‚

#### æ„Ÿæƒ³

è‡ªåˆ†ã¯æ¬¡ã®ç†ç”±ã‹ã‚‰ã‚ã¾ã‚Šã„ã„ææ¡ˆã§ã¯ãªã„ã‚ˆã†ã«æ€ã„ã¾ã™ã€‚

- vueç‹¬è‡ªã®æ§‹æ–‡ã§ã‚ã‚‹
  - ã©ã‚“ã©ã‚“å¢—ãˆã¦ã„ããã†
  - JavaScriptã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã¸ã®è² è·(Linterã¨ã‹ã‚¨ãƒ‡ã‚£ã‚¿ï¼‰
- æœ¬æ¥ã®ãƒ©ãƒ™ãƒ«ä»˜ãæ–‡ã‹ã‚‰é€¸è„±ã—ã¦ã„ã‚‹
- ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«å‰å¾Œã®ã‚³ãƒ¼ãƒ‰ã«å·®ç•°ãŒçµæ§‹ã‚ã‚‹

ã“ã®ç³–è¡£æ§‹æ–‡ã«ã‚ˆã£ã¦é–‹ç™ºè€…ã®ä½“é¨“ãŒçŸ­æœŸçš„ã«ã¯å‘ä¸Šã™ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€è§£æ±ºã—ãŸã„èª²é¡Œã«å¯¾ã—ã¦ãƒ‡ãƒ¡ãƒªãƒƒãƒˆãŒä¸Šå›ã£ã¦ã„ã‚‹ã¨æ„Ÿã˜ã¦ã„ã¾ã™ã€‚ï¼ˆã“ã®rfcã«é™ã‚‰ãšvueãŒ`<script setup>`ãªã©ã€ç‹¬è‡ªã®ç³–è¡£æ§‹æ–‡çš„ãªã‚‚ã®ã‚’è¿½åŠ ã—ã¦ãã‚‹å‚¾å‘ãŒã‚ã‚‹ã“ã¨è‡ªä½“ã«ã‚ã¾ã‚Šã„ã„å°è±¡ã‚’æŒã£ã¦ã„ãªã„ã§ã™ã€‚ï¼‰

---
